(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5967:(e,a,s)=>{Promise.resolve().then(s.bind(s,9251))},9251:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>eo});var t=s(5155),l=s(2115),r=s(3227),i=s(3109),n=s(9037),d=s(2713),o=s(5868),c=s(4616),m=s(7580),h=s(9708),x=s(2085),u=s(2596),f=s(9688);function p(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,f.QP)((0,u.$)(a))}let g=(0,x.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=l.forwardRef((e,a)=>{let{className:s,variant:l,size:r,asChild:i=!1,...n}=e,d=i?h.DX:"button";return(0,t.jsx)(d,{className:p(g({variant:l,size:r,className:s})),ref:a,...n})});N.displayName="Button";let b=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:p("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});b.displayName="Card";let j=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:p("flex flex-col space-y-1.5 p-6",s),...l})});j.displayName="CardHeader";let v=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:p("text-2xl font-semibold leading-none tracking-tight",s),...l})});v.displayName="CardTitle",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:p("text-sm text-muted-foreground",s),...l})}).displayName="CardDescription";let y=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:p("p-6 pt-0",s),...l})});y.displayName="CardContent",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:p("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter";let w=l.forwardRef((e,a)=>{let{className:s,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:p("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r})});w.displayName="Input";var C=s(968);let A=(0,x.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),k=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(C.b,{ref:a,className:p(A(),s),...l})});k.displayName=C.b.displayName;var F=s(2748),D=s(6474),S=s(7863),I=s(5196);let E=F.bL;F.YJ;let L=F.WT,R=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(F.l9,{ref:a,className:p("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[l,(0,t.jsx)(F.In,{asChild:!0,children:(0,t.jsx)(D.A,{className:"h-4 w-4 opacity-50"})})]})});R.displayName=F.l9.displayName;let P=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(F.PP,{ref:a,className:p("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(S.A,{className:"h-4 w-4"})})});P.displayName=F.PP.displayName;let z=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(F.wn,{ref:a,className:p("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})});z.displayName=F.wn.displayName;let M=l.forwardRef((e,a)=>{let{className:s,children:l,position:r="popper",...i}=e;return(0,t.jsx)(F.ZL,{children:(0,t.jsxs)(F.UC,{ref:a,className:p("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...i,children:[(0,t.jsx)(P,{}),(0,t.jsx)(F.LM,{className:p("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(z,{})]})})});M.displayName=F.UC.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(F.JU,{ref:a,className:p("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=F.JU.displayName;let U=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(F.q7,{ref:a,className:p("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(F.VF,{children:(0,t.jsx)(I.A,{className:"h-4 w-4"})})}),(0,t.jsx)(F.p4,{children:l})]})});U.displayName=F.q7.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(F.wv,{ref:a,className:p("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=F.wv.displayName;let T=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("textarea",{className:p("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});T.displayName="Textarea";var _=s(5452),q=s(4416);let V=_.bL,O=_.l9,$=_.ZL;_.bm;let G=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(_.hJ,{ref:a,className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});G.displayName=_.hJ.displayName;let J=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)($,{children:[(0,t.jsx)(G,{}),(0,t.jsxs)(_.UC,{ref:a,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[l,(0,t.jsxs)(_.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(q.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});J.displayName=_.UC.displayName;let H=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:p("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};H.displayName="DialogHeader";let Y=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(_.hE,{ref:a,className:p("text-lg font-semibold leading-none tracking-tight",s),...l})});Y.displayName=_.hE.displayName;let B=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(_.VY,{ref:a,className:p("text-sm text-muted-foreground",s),...l})});B.displayName=_.VY.displayName;var Z=s(6981);let Q=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(Z.bL,{ref:a,className:p("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...l,children:(0,t.jsx)(Z.C1,{className:p("flex items-center justify-center text-current"),children:(0,t.jsx)(I.A,{className:"h-4 w-4"})})})});Q.displayName=Z.bL.displayName;var W=s(3052),X=s(7951),K=s(4516),ee=s(9420),ea=s(8883);let es=(0,x.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function et(e){let{className:a,variant:s,...l}=e;return(0,t.jsx)("div",{className:p(es({variant:s}),a),...l})}var el=s(5977);let er=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(el.bL,{ref:a,className:p("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});er.displayName=el.bL.displayName;let ei=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(el._V,{ref:a,className:p("aspect-square h-full w-full",s),...l})});ei.displayName=el._V.displayName;let en=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(el.H4,{ref:a,className:p("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...l})});function ed(e){let{familyMembers:a,onEdit:s,onDelete:l,onAddChild:r,onAddSpouse:i,expandedNodes:n,onToggleExpanded:d}=e,c=(e,a)=>"".concat(e.charAt(0)).concat(a.charAt(0)).toUpperCase(),h=e=>a.filter(a=>a.parentId===e),x=e=>e.relationship&&({Grandparent:1,Parent:2,Self:3,Spouse:3,Sibling:3,"Aunt/Uncle":3,Child:4,Cousin:4,Grandchild:5,Other:4})[e.relationship]||3,u=e=>{let a=x(e);return a<=2?"bg-purple-100 border-purple-300 text-purple-800":3===a?"bg-blue-100 border-blue-300 text-blue-800":4===a?"bg-green-100 border-green-300 text-green-800":"bg-gray-100 border-gray-300 text-gray-800"},f=e=>{var p,g,j;let{member:v,level:w,isSpouse:C=!1}=e,A=h(v.id),k=A.length>0,F=n.has(v.id),S=v.spouseId?a.find(e=>e.id===v.spouseId):null;return(0,t.jsxs)("div",{className:"relative",children:[w>0&&!C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute border-l-2 border-gray-300",style:{left:"".concat((w-1)*60+30,"px"),top:"0px",height:"40px"}}),(0,t.jsx)("div",{className:"absolute border-t-2 border-gray-300",style:{left:"".concat((w-1)*60+30,"px"),top:"40px",width:"30px"}})]}),(0,t.jsxs)("div",{className:"flex items-start mb-6",style:{marginLeft:"".concat(60*w,"px")},children:[(0,t.jsxs)("div",{className:"flex-shrink-0 mr-4",children:[k&&!C&&(0,t.jsx)(N,{variant:"ghost",size:"sm",onClick:()=>d(v.id),className:"h-8 w-8 p-0 border border-gray-300 bg-white hover:bg-gray-50",children:F?(0,t.jsx)(D.A,{className:"h-4 w-4"}):(0,t.jsx)(W.A,{className:"h-4 w-4"})}),!k&&!C&&(0,t.jsx)("div",{className:"w-8"})]}),(0,t.jsx)(b,{className:"flex-1 hover:shadow-lg transition-all duration-200 border-l-4 border-l-blue-500 bg-white",children:(0,t.jsx)(y,{className:"p-6",children:S&&!C?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"mb-4"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(er,{className:"h-12 w-12 border-2 border-blue-300",children:[(0,t.jsx)(ei,{src:"/placeholder.svg?height=48&width=48&text=".concat(c(v.firstName,v.lastName))}),(0,t.jsx)(en,{className:"bg-blue-200 text-blue-800 font-semibold",children:c(v.firstName,v.lastName)})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("h3",{className:"font-bold text-lg text-gray-900",children:[v.firstName," ",v.lastName]})})]}),(0,t.jsxs)(et,{className:"".concat(u(v)," font-medium"),children:[(0,t.jsx)(X.A,{className:"h-3 w-3 mr-1"}),"Level ",x(v)]})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[v.location&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(K.A,{className:"h-3 w-3 mr-2"}),(0,t.jsx)("span",{children:v.location})]}),v.phone&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(ee.A,{className:"h-3 w-3 mr-2"}),(0,t.jsx)("span",{children:v.phone})]}),v.email&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(ea.A,{className:"h-3 w-3 mr-2"}),(0,t.jsx)("span",{className:"truncate",children:v.email})]}),(v.donationAmount||0)>0&&(0,t.jsxs)("div",{className:"flex items-center text-green-600 font-semibold",children:[(0,t.jsx)(o.A,{className:"h-3 w-3 mr-2"}),(0,t.jsxs)("span",{children:["$",null===(p=v.donationAmount)||void 0===p?void 0:p.toLocaleString()," Temple Contribution"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,t.jsx)(N,{variant:"outline",size:"sm",onClick:()=>s(v),className:"text-xs",children:"Edit Profile"}),(0,t.jsx)(N,{variant:"outline",size:"sm",onClick:()=>l(v.id),className:"text-xs",children:"Remove"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(er,{className:"h-12 w-12 border-2 border-pink-300",children:[(0,t.jsx)(ei,{src:"/placeholder.svg?height=48&width=48&text=".concat(c(S.firstName,S.lastName))}),(0,t.jsx)(en,{className:"bg-pink-200 text-pink-800 font-semibold",children:c(S.firstName,S.lastName)})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("h3",{className:"font-bold text-lg text-gray-900",children:[S.firstName," ",S.lastName]})})]}),(0,t.jsxs)(et,{className:"".concat(u(S)," font-medium"),children:[(0,t.jsx)(X.A,{className:"h-3 w-3 mr-1"}),"Level ",x(S)]})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[S.location&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(K.A,{className:"h-3 w-3 mr-2"}),(0,t.jsx)("span",{children:S.location})]}),S.phone&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(ee.A,{className:"h-3 w-3 mr-2"}),(0,t.jsx)("span",{children:S.phone})]}),S.email&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(ea.A,{className:"h-3 w-3 mr-2"}),(0,t.jsx)("span",{className:"truncate",children:S.email})]}),(S.donationAmount||0)>0&&(0,t.jsxs)("div",{className:"flex items-center text-green-600 font-semibold",children:[(0,t.jsx)(o.A,{className:"h-3 w-3 mr-2"}),(0,t.jsxs)("span",{children:["$",null===(g=S.donationAmount)||void 0===g?void 0:g.toLocaleString()," Temple Contribution"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,t.jsx)(N,{variant:"outline",size:"sm",onClick:()=>s(S),className:"text-xs",children:"Edit Profile"}),(0,t.jsx)(N,{variant:"outline",size:"sm",onClick:()=>l(S.id),className:"text-xs",children:"Remove"})]})]})]}),(0,t.jsx)("div",{className:"flex justify-center gap-3 pt-4 border-t border-gray-200",children:(0,t.jsxs)(N,{variant:"outline",size:"sm",onClick:()=>r(v),className:"text-xs",children:[(0,t.jsx)(m.A,{className:"h-3 w-3 mr-2"}),"Add Child"]})})]}):(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,t.jsxs)(er,{className:"h-14 w-14 border-2 border-gray-300",children:[(0,t.jsx)(ei,{src:"/placeholder.svg?height=56&width=56&text=".concat(c(v.firstName,v.lastName))}),(0,t.jsx)(en,{className:"bg-gray-200 text-gray-800 font-semibold text-lg",children:c(v.firstName,v.lastName)})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsxs)("h3",{className:"font-bold text-xl text-gray-900",children:[v.firstName," ",v.lastName]}),(0,t.jsxs)(et,{className:"".concat(u(v)," font-medium"),children:[(0,t.jsx)(X.A,{className:"h-3 w-3 mr-1"}),"Level ",x(v)]}),(v.donationAmount||0)>0&&(0,t.jsxs)(et,{variant:"outline",className:"text-green-600 border-green-300",children:[(0,t.jsx)(o.A,{className:"h-3 w-3 mr-1"}),"$",null===(j=v.donationAmount)||void 0===j?void 0:j.toLocaleString()]})]}),(0,t.jsx)("div",{className:"mb-3"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[v.location&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(K.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{children:v.location})]}),v.phone&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(ee.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{children:v.phone})]}),v.email&&(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(ea.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{className:"truncate",children:v.email})]}),k&&(0,t.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),(0,t.jsxs)("span",{children:[A.length," Direct Report",1!==A.length?"s":""]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,t.jsx)(N,{variant:"outline",size:"sm",onClick:()=>s(v),className:"text-xs",children:"Edit Profile"}),(0,t.jsx)(N,{variant:"outline",size:"sm",onClick:()=>i(v),className:"text-xs",children:"Add Partner"}),(0,t.jsx)(N,{variant:"outline",size:"sm",onClick:()=>r(v),className:"text-xs",children:"Add Report"}),(0,t.jsx)(N,{variant:"outline",size:"sm",onClick:()=>l(v.id),className:"text-xs",children:"Remove"})]})]})})})]}),k&&F&&!C&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute border-l-2 border-gray-300",style:{left:"".concat(60*w+30,"px"),top:"0px",height:"".concat(200*A.length,"px")}}),A.map(e=>{let s=e.spouseId?a.find(a=>a.id===e.spouseId):null;return!s||Number.parseInt(e.id)<Number.parseInt(s.id)?(0,t.jsx)(f,{member:e,level:w+1},e.id):null})]})]})},p=a.filter(e=>!e.parentId).filter(e=>{if(e.spouseId){let s=a.find(a=>a.id===e.spouseId);return s&&Number.parseInt(e.id)<Number.parseInt(s.id)}return!0});return(0,t.jsx)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-lg p-6 min-h-[600px]",children:(0,t.jsx)("div",{className:"space-y-6",children:p.map(e=>(0,t.jsx)(f,{member:e,level:0},e.id))})})}function eo(){let[e,a]=(0,l.useState)([]),[s,h]=(0,l.useState)(!1),[x,u]=(0,l.useState)(null),[f,p]=(0,l.useState)(new Set),[g,C]=(0,l.useState)({firstName:"",lastName:"",birthDate:"",deathDate:"",relationship:"",gender:"",location:"",phone:"",email:"",notes:"",parentId:"",spouseId:"",donationAmount:0}),[A,F]=(0,l.useState)({husband:{firstName:"",lastName:"",birthDate:"",deathDate:"",relationship:"",gender:"Male",location:"",phone:"",email:"",notes:"",donationAmount:0},wife:{firstName:"",lastName:"",birthDate:"",deathDate:"",relationship:"",gender:"Female",location:"",phone:"",email:"",notes:"",donationAmount:0},isCouple:!1}),[D,S]=(0,l.useState)(null),[I,P]=(0,l.useState)(null),z=()=>{C({firstName:"",lastName:"",birthDate:"",deathDate:"",relationship:"",gender:"",location:"",phone:"",email:"",notes:"",parentId:"",spouseId:"",donationAmount:0}),F({husband:{firstName:"",lastName:"",birthDate:"",deathDate:"",relationship:"",gender:"Male",location:"",phone:"",email:"",notes:"",donationAmount:0},wife:{firstName:"",lastName:"",birthDate:"",deathDate:"",relationship:"",gender:"Female",location:"",phone:"",email:"",notes:"",donationAmount:0},isCouple:!1}),u(null),S(null),P(null),h(!1)};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,t.jsx)(r.A,{className:"h-12 w-12 text-blue-600 mr-4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Family Fundraising"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Family structure and collection details"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto",children:(0,t.jsxs)(b,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[(0,t.jsx)(j,{className:"pb-3",children:(0,t.jsxs)(v,{className:"flex items-center justify-center text-blue-800",children:[(0,t.jsx)(i.A,{className:"h-6 w-6 mr-2"}),"Financial Performance"]})}),(0,t.jsx)(y,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-700",children:"Total Contributions"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:["$",e.reduce((e,a)=>e+(a.donationAmount||0),0).toLocaleString()]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-700",children:"Contributors"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-800",children:e.filter(e=>(e.donationAmount||0)>0).length})]})]})})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsx)(b,{className:"bg-white border-l-4 border-l-purple-500",children:(0,t.jsx)(y,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(n.A,{className:"h-8 w-8 text-purple-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Level"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>["Self","Parent","Grandparent","Spouse"].includes(e.relationship)).length})]})]})})}),(0,t.jsx)(b,{className:"bg-white border-l-4 border-l-green-500",children:(0,t.jsx)(y,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 text-green-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Members"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>["Grandchild","Cousin","Other"].includes(e.relationship)).length})]})]})})}),(0,t.jsx)(b,{className:"bg-white border-l-4 border-l-orange-500",children:(0,t.jsx)(y,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o.A,{className:"h-8 w-8 text-orange-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 flex items-center",children:[(0,t.jsx)(r.A,{className:"h-6 w-6 mr-2"}),"Family Chart"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(N,{variant:"outline",onClick:()=>p(new Set(e.map(e=>e.id))),children:"Expand All"}),(0,t.jsx)(N,{variant:"outline",onClick:()=>p(new Set),children:"Collapse All"}),(0,t.jsxs)(V,{open:s,onOpenChange:h,children:[(0,t.jsx)(O,{asChild:!0,children:(0,t.jsxs)(N,{onClick:()=>u(null),className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Add Member"]})}),(0,t.jsxs)(J,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(H,{children:[(0,t.jsxs)(Y,{className:"flex items-center",children:[(0,t.jsx)(r.A,{className:"h-5 w-5 mr-2"}),x?"Update Employee Profile":D?A.isCouple?"Add Executive Partnership under ".concat(D.firstName," ").concat(D.lastName):"Add Direct Report for ".concat(D.firstName," ").concat(D.lastName):I?"Add Executive Partner for ".concat(I.firstName," ").concat(I.lastName):A.isCouple?"Add Executive Partnership":"Add New Member"]}),(0,t.jsx)(B,{children:x?"Update the employee information and role details.":D?A.isCouple?"Enter the details for the executive partnership reporting to ".concat(D.firstName,"."):"Enter the details for the new direct report under ".concat(D.firstName,"."):I?"Enter the details for ".concat(I.firstName,"'s executive partner."):A.isCouple?"Enter the details for the executive partnership.":"Enter the details for the new member."})]}),!x&&!I&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(Q,{id:"isCouple",checked:A.isCouple,onCheckedChange:e=>F(a=>({...a,isCouple:e}))}),(0,t.jsx)(k,{htmlFor:"isCouple",className:"text-sm font-medium",children:"Add the Pair"})]}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),A.isCouple){if(!A.husband.firstName||!A.wife.firstName)return;let e=Date.now().toString(),s=(Date.now()+1).toString(),t={id:e,firstName:A.husband.firstName||"",lastName:A.husband.lastName||"",birthDate:A.husband.birthDate||"",deathDate:A.husband.deathDate||"",relationship:D?"Child":A.husband.relationship||"",gender:"Male",location:A.husband.location||"",phone:A.husband.phone||"",email:A.husband.email||"",notes:A.husband.notes||"",parentId:(null==D?void 0:D.id)||"",spouseId:s,donationAmount:A.husband.donationAmount||0},l={id:s,firstName:A.wife.firstName||"",lastName:A.wife.lastName||"",birthDate:A.wife.birthDate||"",deathDate:A.wife.deathDate||"",relationship:D?"Child":A.wife.relationship||"",gender:"Female",location:A.wife.location||"",phone:A.wife.phone||"",email:A.wife.email||"",notes:A.wife.notes||"",parentId:(null==D?void 0:D.id)||"",spouseId:e,donationAmount:A.wife.donationAmount||0};a(e=>[...e,t,l])}else{if(!g.firstName||!g.lastName)return;let e={id:(null==x?void 0:x.id)||Date.now().toString(),firstName:g.firstName||"",lastName:g.lastName||"",birthDate:g.birthDate||"",deathDate:g.deathDate||"",relationship:D?"Child":I?"Spouse":g.relationship||"",gender:g.gender||"",location:g.location||"",phone:g.phone||"",email:g.email||"",notes:g.notes||"",parentId:(null==D?void 0:D.id)||"",spouseId:(null==I?void 0:I.id)||"",donationAmount:g.donationAmount||0};x?a(a=>a.map(a=>a.id===x.id?e:a)):a(a=>{let s=[...a,e];return I?s.map(a=>a.id===I.id?{...a,spouseId:e.id}:a):s})}z()},className:"space-y-4",children:[!A.isCouple||x||I?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"firstName",children:"First Name *"}),(0,t.jsx)(w,{id:"firstName",value:g.firstName||"",onChange:e=>C(a=>({...a,firstName:e.target.value})),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"lastName",children:"Last Name *"}),(0,t.jsx)(w,{id:"lastName",value:g.lastName||"",onChange:e=>C(a=>({...a,lastName:e.target.value})),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"gender",children:"Gender"}),(0,t.jsxs)(E,{value:g.gender||"",onValueChange:e=>C(a=>({...a,gender:e})),children:[(0,t.jsx)(R,{children:(0,t.jsx)(L,{placeholder:"Select gender"})}),(0,t.jsxs)(M,{children:[(0,t.jsx)(U,{value:"Male",children:"Male"}),(0,t.jsx)(U,{value:"Female",children:"Female"}),(0,t.jsx)(U,{value:"Other",children:"Other"})]})]})]}),!D&&!I&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"relationship",children:"Role Level"}),(0,t.jsxs)(E,{value:g.relationship||"",onValueChange:e=>C(a=>({...a,relationship:e})),children:[(0,t.jsx)(R,{children:(0,t.jsx)(L,{placeholder:"Select role level"})}),(0,t.jsx)(M,{children:["Self","Spouse","Parent","Child","Sibling","Grandparent","Grandchild","Aunt/Uncle","Cousin","Other"].map(e=>(0,t.jsx)(U,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"donationAmount",children:"Temple Contribution ($)"}),(0,t.jsx)(w,{id:"donationAmount",type:"number",min:"0",step:"0.01",value:g.donationAmount||0,onChange:e=>C(a=>({...a,donationAmount:Number.parseFloat(e.target.value)||0}))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"location",children:"Current Location"}),(0,t.jsx)(w,{id:"location",placeholder:"City, State, Country",value:g.location||"",onChange:e=>C(a=>({...a,location:e.target.value}))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"phone",children:"Phone"}),(0,t.jsx)(w,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:g.phone||"",onChange:e=>C(a=>({...a,phone:e.target.value}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"email",children:"Email"}),(0,t.jsx)(w,{id:"email",type:"email",placeholder:"email@company.com",value:g.email||"",onChange:e=>C(a=>({...a,email:e.target.value}))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"notes",children:"Additional Notes"}),(0,t.jsx)(T,{id:"notes",placeholder:"Role responsibilities, achievements, or other relevant information...",value:g.notes||"",onChange:e=>C(a=>({...a,notes:e.target.value})),rows:3})]})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 mr-2"}),D?"Primary Executive":"Executive Partner A"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"husbandFirstName",children:"First Name *"}),(0,t.jsx)(w,{id:"husbandFirstName",value:A.husband.firstName||"",onChange:e=>F(a=>({...a,husband:{...a.husband,firstName:e.target.value}})),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"husbandLastName",children:"Last Name *"}),(0,t.jsx)(w,{id:"husbandLastName",value:A.husband.lastName||"",onChange:e=>F(a=>({...a,husband:{...a.husband,lastName:e.target.value},wife:{...a.wife,lastName:e.target.value}})),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"husbandEmail",children:"Email"}),(0,t.jsx)(w,{id:"husbandEmail",type:"email",value:A.husband.email||"",onChange:e=>F(a=>({...a,husband:{...a.husband,email:e.target.value}}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"husbandPhone",children:"Phone"}),(0,t.jsx)(w,{id:"husbandPhone",type:"tel",value:A.husband.phone||"",onChange:e=>F(a=>({...a,husband:{...a.husband,phone:e.target.value}}))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"husbandLocation",children:"Current Location"}),(0,t.jsx)(w,{id:"husbandLocation",placeholder:"City, State, Country",value:A.husband.location||"",onChange:e=>F(a=>({...a,husband:{...a.husband,location:e.target.value},wife:{...a.wife,location:e.target.value}}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"husbandDonation",children:"Temple Contribution ($)"}),(0,t.jsx)(w,{id:"husbandDonation",type:"number",min:"0",step:"0.01",value:A.husband.donationAmount||0,onChange:e=>F(a=>({...a,husband:{...a.husband,donationAmount:Number.parseFloat(e.target.value)||0}}))})]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-pink-50 rounded-lg border border-pink-200",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-pink-800 mb-4 flex items-center",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 mr-2"}),D?"Partner Executive":"Executive Partner B"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"wifeFirstName",children:"First Name *"}),(0,t.jsx)(w,{id:"wifeFirstName",value:A.wife.firstName||"",onChange:e=>F(a=>({...a,wife:{...a.wife,firstName:e.target.value}})),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"wifeLastName",children:"Last Name *"}),(0,t.jsx)(w,{id:"wifeLastName",value:A.wife.lastName||"",onChange:e=>F(a=>({...a,wife:{...a.wife,lastName:e.target.value}})),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"wifeEmail",children:"Email"}),(0,t.jsx)(w,{id:"wifeEmail",type:"email",value:A.wife.email||"",onChange:e=>F(a=>({...a,wife:{...a.wife,email:e.target.value}}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"wifePhone",children:"Phone"}),(0,t.jsx)(w,{id:"wifePhone",type:"tel",value:A.wife.phone||"",onChange:e=>F(a=>({...a,wife:{...a.wife,phone:e.target.value}}))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"wifeLocation",children:"Current Location"}),(0,t.jsx)(w,{id:"wifeLocation",placeholder:"City, State, Country",value:A.wife.location||"",onChange:e=>F(a=>({...a,wife:{...a.wife,location:e.target.value}}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{htmlFor:"wifeDonation",children:"Temple Contribution ($)"}),(0,t.jsx)(w,{id:"wifeDonation",type:"number",min:"0",step:"0.01",value:A.wife.donationAmount||0,onChange:e=>F(a=>({...a,wife:{...a.wife,donationAmount:Number.parseFloat(e.target.value)||0}}))})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(N,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:x?"Update Employee":A.isCouple?"Add Executive Partnership":"Add Member"}),(0,t.jsx)(N,{type:"button",variant:"outline",onClick:z,children:"Cancel"})]})]})]})]})]})]}),0===e.length?(0,t.jsx)(b,{className:"text-center py-12 bg-white",children:(0,t.jsxs)(y,{children:[(0,t.jsx)(r.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Start building your organizational structure by adding your first team member."}),(0,t.jsxs)(N,{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})}):(0,t.jsx)(ed,{familyMembers:e,onEdit:e=>{u(e),C({firstName:e.firstName||"",lastName:e.lastName||"",birthDate:e.birthDate||"",deathDate:e.deathDate||"",relationship:e.relationship||"",gender:e.gender||"",location:e.location||"",phone:e.phone||"",email:e.email||"",notes:e.notes||"",parentId:e.parentId||"",spouseId:e.spouseId||"",donationAmount:e.donationAmount||0}),h(!0)},onDelete:e=>{a(a=>{let s=a.find(a=>a.id===e),t=a.filter(a=>a.id!==e);return(null==s?void 0:s.spouseId)&&(t=t.map(e=>e.id===s.spouseId?{...e,spouseId:""}:e)),t})},onAddChild:e=>{S(e),u(null),C({firstName:"",lastName:e.lastName||"",birthDate:"",deathDate:"",relationship:"Child",gender:"",location:e.location||"",phone:"",email:"",notes:"",parentId:e.id,spouseId:"",donationAmount:0}),F({husband:{firstName:"",lastName:e.lastName||"",birthDate:"",deathDate:"",relationship:"Child",gender:"Male",location:e.location||"",phone:"",email:"",notes:"",donationAmount:0},wife:{firstName:"",lastName:e.lastName||"",birthDate:"",deathDate:"",relationship:"Child",gender:"Female",location:e.location||"",phone:"",email:"",notes:"",donationAmount:0},isCouple:!0}),h(!0)},onAddSpouse:e=>{P(e),u(null),C({firstName:"",lastName:e.lastName||"",birthDate:"",deathDate:"",relationship:"Spouse",gender:"Male"===e.gender?"Female":"Male",location:e.location||"",phone:"",email:"",notes:"",parentId:"",spouseId:e.id,donationAmount:0}),h(!0)},expandedNodes:f,onToggleExpanded:e=>{let a=new Set(f);a.has(e)?a.delete(e):a.add(e),p(a)}})]})})}en.displayName=el.H4.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[681,441,684,358],()=>a(5967)),_N_E=e.O()}]);